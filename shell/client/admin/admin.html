<template name="adminNavItem">
{{!--
  Takes as arguments:

  routeName: String
       data: String
      class: String
--}}
<li class="nav-item">
  {{#linkTo route=routeName class=class data=data}}
    {{> Template.contentBlock}}
  {{/linkTo}}
</li>
</template>

<template name="newAdmin">
  {{>title "Admin panel"}}
  {{setDocumentTitle}}

  {{#if wildcardHostSeemsBroken}}
  <div class="flash-message warning-message">
    {{{_ "admin.admin.newAdmin.wildcardHostBroken"}}}
  </div>
  {{/if}}

  {{#if websocketSeemsBroken}}
  <div class="flash-message warning-message">
    {{{_ "admin.admin.newAdmin.websocketBroken"}}}
  </div>
  {{/if}}

  <div class="admin-settings">
    {{#if isUserPermitted}}
      {{> Template.dynamic template=adminTab}}
    {{else}}
      {{#if hasSetupToken}}
        <p>
          {{{_ "admin.admin.newAdmin.hasSetupToken"}}}
        </p>
      {{else}}
        <p>
          {{_ "admin.admin.newAdmin.hasNoSetupToken"}}
        </p>
      {{/if}}
    {{/if}}
  </div>
</template>

<template name="newAdminRoot">
  <h1>
    <ul class="admin-breadcrumbs">
      <li>{{_ "admin.title"}}</li>
    </ul>
  </h1>

  <nav>
    <ul class="nav-sections">
      <li>
        <h2>{{_ "admin.admin.newAdminRoot.configuration.title"}}</h2>
        <ul class="nav-items">
          {{#adminNavItem routeName="newAdminIdentity"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.identity.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.identity.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminOrganization"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.organization.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.organization.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminEmailConfig"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.emailConfig.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.emailConfig.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminPersonalization"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.personalization.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.personalization.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminPreinstalledApps"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.preinstalledApps.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.preinstalledApps.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminAppSources"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.appSources.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.appSources.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminNetworking"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.configuration.networking.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.configuration.networking.subtext"}}</div>
          {{/adminNavItem}}
        </ul>
      </li>
      <li>
        <h2>{{_ "admin.admin.newAdminRoot.management.title"}}</h2>
        <ul class="nav-items">
          {{#adminNavItem routeName="newAdminUsers"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.management.users.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.management.users.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminStatus"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.management.status.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.management.status.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminStats"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.management.stats.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.management.stats.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminMaintenance"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.management.maintenance.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.management.maintenance.subtext"}}</div>
          {{/adminNavItem}}
          {{#adminNavItem routeName="newAdminNetworkCapabilities"}}
            <div class="item-name">{{_ "admin.admin.newAdminRoot.management.capabilities.name"}}</div>
            <div class="item-subtext">{{_ "admin.admin.newAdminRoot.management.capabilities.subtext"}}</div>
          {{/adminNavItem}}
        </ul>
      </li>
    </ul>
  </nav>
</template>
