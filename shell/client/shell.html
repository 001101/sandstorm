<head>
  <title>Sandstorm</title>
  <!-- TODO(soon):  Host font locally. -->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
</head>

<body>
  <div id="topbar-left">
    {{> grainList}}
  </div>
  <div id="topbar">
    Sandstorm
  </div>
  <div id="topbar-right">
  </div>
</body>

<template name="grainList">
  <img class="icon" src="apps.svg" title="apps" id="apps-ico">
  <div id="apps" class="popup">
    <h1>My Grains</h1>
    {{#each grains}}
    <p class="openGrain" id="openGrain-{{_id}}">{{title}}
    {{/each}}
    <hr>
    {{#each actions}}
    <p class="newGrain" id="newGrain-{{_id}}">{{title}}
    {{/each}}
  </div>
</template>

<template name="grain">
  <div id="app">
    <iframe src="http://localhost:3003"></iframe>
  </div>
</template>

<template name="install">
  {{#if error}}
    <div id="install" class="error">
      <p>Failed to install app!  <button id="retry">Try Again</button>
      <pre>{{error}}</pre>
    </div>
  {{else}}
    <div id="install" class="instep-{{step}}">
      <ol>
        <li id="step-download">Download... <span class="progress">{{progress}}
            <button id="cancelDownload">Cancel</button></span>
        <li id="step-verify">Verify... <span class="progress">{{progress}}</span>
        <li id="step-unpack">Unpack... <span class="progress">{{progress}}</span>
        <li id="step-analyze">Analyze... <span class="progress">{{progress}}</span>
        <li id="step-confirm">Confirm...
          <div class="confirm-form">
            <p>(TODO:  Support upgrades, petnames.)
            <p><button id="confirmInstall">Install</button>
          </div>
        <li id="step-run">Run...
      </ol>
    </div>
  {{/if}}
</template>
